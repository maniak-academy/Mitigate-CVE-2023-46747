# Ansible Playbook to Mitigate CVE-2023-46747

> K000137353: BIG-IP Configuration utility unauthenticated remote code execution vulnerability CVE-2023-46747

Here is the knowledge base article link [K000137353](https://my.f5.com/manage/s/article/K000137353)

## How to use

1. Git clone my repo https://github.com/maniak-academy/Mitigate-CVE-2023-46747.git
2. Update the `hosts.ini` file with your BIG-IP information
3. Execute the playbook

```bash
$ ansible-playbook -i hosts.ini playbook.yaml
```

Here is the output.

```bash
PLAY [Execute script on F5 BIG-IP]
****************************************************************************************************************

TASK [Copy the script to the BIG-IP]
**************************************************************************************************************
changed: [172.16.10.31]
changed: [172.16.10.30]

TASK [Execute the script on the BIG-IP]
***********************************************************************************************************
changed: [172.16.10.30]
changed: [172.16.10.31]

TASK [Save script output messages]
****************************************************************************************************************
ok: [172.16.10.30]
ok: [172.16.10.31]

TASK [Aggregate script output messages on localhost]
**********************************************************************************************
ok: [172.16.10.30 -> localhost] => (item=Applying ID1378329 mitigation...)
ok: [172.16.10.30 -> localhost] => (item=Restarting httpd...)
ok: [172.16.10.31 -> localhost] => (item=Applying ID1378329 mitigation...)
ok: [172.16.10.30 -> localhost] => (item=Stopping httpd: [  OK  ])
ok: [172.16.10.31 -> localhost] => (item=Restarting httpd...)
ok: [172.16.10.30 -> localhost] => (item=Starting httpd: [  OK  ])
ok: [172.16.10.31 -> localhost] => (item=Stopping httpd: [  OK  ])
ok: [172.16.10.31 -> localhost] => (item=Starting httpd: [  OK  ])
ok: [172.16.10.30 -> localhost] => (item=Restarting tomcat...)
ok: [172.16.10.30 -> localhost] => (item=Done!)
ok: [172.16.10.31 -> localhost] => (item=Restarting tomcat...)
ok: [172.16.10.31 -> localhost] => (item=Done!)
```
